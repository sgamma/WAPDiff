extends ./layout.jade

block titleBlock
  title= title

append cssBlock
  link(href='css/lineloader.css', rel='stylesheet')

block bodyBlock
  table(class='table table-bordered table-hover')
    thead
      tr
        th
          h3!= mainrep
        each rep, index in reps
          th
            h3!= rep
    tbody
      each mainfile in mainfiles
        tr
          th
            strong!= mainfile.name
              p(class='pull-right text-right')
                span(class='label label-primary')= mainfile.prettydate
                br
                span(class='label label-info')= mainfile.prettysize
          each rep in reps
            - var file = files.chain().find({'name': mainfile.name}).find({'repository': rep}).data();
            if file && file.length > 0
              if ( file[0].size == mainfile.size && file[0].date.isSame(mainfile.date) )
                td(class='text-success')
                  span(class='glyphicon glyphicon-thumbs-up')
            else
              td(class='text-danger')
                span(class='glyphicon glyphicon-question-sign') &nbsp;
                | Missing


append scriptBlock
  script(src='js/TweenMax.min.js')
  script(src='js/TimelineMax.min.js')
  script(src='js/app.js')
